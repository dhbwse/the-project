% !TEX root = dokumentation.tex
\section{Konzipierung}
Das folgende Kapitel beschäftigt sich mit der Konzipierung des Spiels ansich. Dabei werden zunächst die erarbeiteten und vorgegebenen Kriterien zusammengefasst, mehrere Spielideen anhand dieser Kriterien überprüft und anschließend eine finale Spielidee entwickelt. Im weiteren Verlauf des Kapitels werden Functional und non-functional Requirements erörtert und in Use-Cases unterteilt. Anhand dieser Requirements wird dann im Kapitel \ref{sec:impl} Implementierung das Spiel entwickelt. Weiterhin werden in diesem Kapitel die Spielregeln verfasst und weitere Elemente, wie die Steuerung oder computergesteuerte Gegner (e.g. Bots) betrachtet. Abschließend soll betrachtet werden, wie die im Grundlagenteil erfassten Lernziele in Verbindung mit dem Spiel umgesetzt werden können.
\subsection{Kriterien für die Spielidee}\label{ssec:kriterien}
	Auf Basis der in der Aufgabenstellung genannten Kriterien und mit Erweiterung durch eigens erarbeitete Kriterien konnte ein Kriterienkatalog entwickelt werden. Damit eine vollständige Zusammenfassung aller Kriterien möglich ist, werden die Kriterien aus der Aufgabenstellung erneut aufgegriffen.
	\begin{enumerate}
		\item{Das Spiel soll levelbasiert sein, d.h. dass voneinander unabhängige Spielabschnitte vorhanden sind.}
		\item{Der Umfang des Spiels ist auf zwei bis drei Stunden Spielspaß ausgelegt. Durch modulare Gestaltung (Levels) kann das Spiel im Nachhinein erweitert werden.}
		\item{Das Spiel ist ein \enquote{educational game}, der Spielspaß steht im Vordergrund. Die Spieler sollen unbewusst nebenbei lernen.}
		\item{Aus Punkt 3 folgt: das Lernen selbst soll Spaß machen. Dies soll erreicht werden indem Lernen ein fester Bestandteil des Spiels ist und nicht als Aufgabe, zu der die Spieler genötigt werden.}
		\item{Das Spiel soll \enquote{casual} sein, d.h. ein Spiel \enquote{für zwischendurch} sein.}
		\item{Der vollständige Programmieraufwand für das Spiel ist auf 3 Monate Arbeit ausgelegt. Somit bleiben weitere volle drei Monate für das Verfassen der Arbeit.}
		\item{Ziel ist, eine originelle Spielidee zu entwickeln, sodass das Spiel kein Klon eines bereits existierenden Spiels ist.}
		\item{Als Beispiele zur Orientierung wurde \enquote{arcademics.com} genannt, welche Spiele der gewünschten Art beinhaltet, jedoch eine Internetverbindung benötigt. Daraus ergibt sich, dass das Spiel auch offline spielbar sein soll.}
		\item{Bei frühen Brainstorming-Sessions konnte sich darauf geeinigt werden, dass das Spiel in keinem Fall ein RPG<TODO:acro> sein soll.}
		\item{Es besteht keine Notwendigkeit der Einhaltung der Lernstandards. Die Spieler sollen mit dem Spiel Spaß haben und das Spiel auch spielen wollen.}
		\item{Die Zielgruppe für das Spiel ist durch die Persona aus Kapitel 2<TODO: richtige Verlinkung> gegeben. Nach Möglichkeit soll dieses Spiel und die zugehörige Lernplattform auch Flüchtlingskindern zur Verfügung gestellt werden.}
	\end{enumerate}

	Die Entstehung dieser Kriterien ist teilweise auf die Ergebnisse aus dem Brainstorming zurückzuführen. Durch das Brainstorming konnten die Erwartungen der Projektteilnehmer an das Spiel weiter spezifiziert werden. Somit ist eine genaue Trennung der Kriterien vom Brainstorming nur schwer möglich und dient lediglich der Übersichtlichkeit.

\subsection{Brainstorming \& Game Design}\label{ssec:idee}
	Über mehrere Gespräche hinweg wurden Ideen für das zu entwickelnde Spiel gesammelt. Dieses Kapitel hat zum Zweck, den Abauf der Ideenfindung in eine Reihenfolge zu bringen und diese zu präsentieren.
	\begin{enumerate}
		\item{Chemie / Physik Simulation:}
		\begin{itemize}
			\item{Die Simulation findet in einer Laborumgebung statt. Dabei steuert der Spieler den Laborarbeiter (bzw. aus der Sicht des Labrarbeiters).}
			\item{Der Spieler führt einfache Experimente aus den Bereichen Chemie und Physik durch.}
			\item{Fehler, welche dem Spieler in den Experimenten passieren, führen zum Scheitern des Versuchs.}
			\item{Der Spieler hat die Möglichkeit, die Hände des Laborarbeiters zu steuern.}
			\item{Alternativ kann der Spieler über den Touchscreen mit den Utensilien im Labor interagieren.}
			\item{Die Idee wurde verworfen, da viele Experimente aus Chemie und Physik nur schwer über einen Touchscreen durchzuführen sind. Weiterhin ist die für diese art von Spiel benötigte Physiksimulation ungeeignet für die Zielplattform. Außerdem stellt diese Idee nicht den gewünschten Lernerfolg für die gewünschte Zielgruppe zur verfügung. }
		\end{itemize}
		\item{Rätselspiel:}
		\begin{itemize}
			\item{Der Spieler soll eine Art Rätsel lösen welche automatisch in unterschiedlichen Schwierigkeitsgraden generiert werden kann.}
			\item{Die Idee wurde aufgrund eines fehlenden Rätselkonzepts, fehlender weiterer Ideen und großer einschränkung der Zielgruppe verworfen.}
		\end{itemize}
		\item{Simulation von Motoren und Getrieben:}
		\begin{itemize}
			\item{Vor Spielbeginn bekommt der Spieler eine Strecke angezeigt. Diese Strecke ist in 2D und zeichnet sich durch Höhenunterschiede aus.}
			\item{Der Spieler wählt auf Basis der Strecke aus einer Sammlung verschiedener Motoren den Besten aus. Beispielsweise ist ein 2-Takt Motor für steile Berge besser geeignet als ein 4-Takt Motor.}
			\item{Der Spieler bekommt mehrere Treibstoffe (Benzin, Diesel, \dots) zur Auswahl und kann entsprechend der Strecke und des Motors wählen.}
			\item{Während der Fahrt hat der Spieler die Möglichkeit, über Schaltflächen den ausgewählten Gang des Getriebes zu wechseln.}
			\item{Bei der Auswahl von Treibstoffen, Motoren und Gangschaltungen werden dem Spieler Informationstexte angezeigt und vorgelesen.}
			\item{Um das Level bzw. das Spiel abzuschließen, muss die Strecke in der vorgegebenen Zeit absolviert werden.}
			\item{Die Idee wurde nach dem Kickoff-Meeting vollständig verworfen, da die Umsetzung der Lernziele nicht in gewünschter Form möglich ist.}
		\end{itemize}
		\item{Rennfahrspiel Version 1:}
		\begin{itemize}
			\item{Der Spieler nimmt an einer wilden Renntour durch die Stadt teil.}
			\item{Der Spieler wird von der Polizei verfolgt und bekommt beim geschnappt werden verschiedene Annimationen des Scheiterns angezeigt.}
			\item{Sollte der Spieler scheitern, kann er eine Aufgabe absolvieren um einen weiteren Versuch zu erhalten. Das ist drei mal möglich.}
			\item{Diese Aufgaben / Minigames sind beispielsweise:}
			\begin{itemize}
				\item{Ampel: Der Spieler muss rechtzeitig reagieren um an einer roten Ampel anzuhalten.}
				\item{Polizei: Der Spieler muss die Anweisungen der Polizei rechtzeitig befolgen. Anweisungen können z.~B.\@ das \enquote{Rechts ranfahren}sein.}
				\item{Sprungschantze: Der Spieler benötigt die richtige Geschwindigkeit um den Sprung perfekt zu absolvieren.}
			\end{itemize}
			\item{Die Idee wurde nach dem Kickoff-Meeting vollständig verworfen, da die Umsetzung der Lernziele nicht in gewünschter Form möglich ist.}
		\end{itemize}
	\end{enumerate}
	Aus diesen Ideen und in Verbindung mit den Informationen aus dem Kickoff-Meeting konnte die finale Spielidee entwickelt werden. Dabei wurde die Idee eines Rennspiels beibehalten und so angepasst, dass eine Umsetzung der Lernziele gut umsetzbar ist.
	\begin{enumerate}
		\item{Das Rennspiel wird dem Spieler aus der \enquote{Top-Down}-Ansicht präsentiert. Dabei ist die Kamera leicht schräg auf die Rennstrecke gerichtet, sodass die Modelle der Fahrzeuge dreidimensional sind.}
		\item{Als Steuerung nutzt der Spieler ein Steuerkreuz, sowie einen Button für Gas und einen Button für Bremse. Somit muss der Spieler sowohl lenken, als auch seine Geschwindigkeit steuern.}
		\item{Bei der Auswahl der spielbaren Objekte ist kein Fokus auf Realismus gesetzt. Beispielhafte spielbare Dinge sind:}
		\begin{itemize}
			\item{Ein rollender Ball und ein rollender Würfel (welcher logischerweise ungleichmäßige Bewegungen vollführt).}
			\item{Ein rennender Mensch oder ein rennendes Tier (welche die gleiche Geschwindigkeit wie Autos erreichen).}
			\item{Ein Auto oder ein Flugzeug, welches sich in Bodennähe aufhält und auf die Gegebenheiten der Strecke ebenso reagieren muss.}
		\end{itemize}
		\item{Für die verschiedenen Spielmodi stehen folgende Ideen zur Auswahl:}
		\begin{itemize}
			\item{Im Online Multiplayer haben die Spieler die Möglichkeit, gegen bis zu drei weitere Spieler anzutreten. Gewinner ist dabei logischerweise, wer zuerst das Ziel erreicht.}
			\item{Die Level für den Spielfortschritt sind als Zeitrennen umgesetzt. Dabei muss der Spieler das Ziel in der vorgegebenen Zeit erreichen. Am Spielende überschüssige Zeit kann unter Umständen in zusätzliche Belohnungen verwandelt werden.}
			\item{Die Level für den Spielfortschritt werden gegen computergesteuerte Bots statt, um das Level zu beenden muss der Spieler als erster das Ziel erreichen.}
		\end{itemize}
		\item{Die Strecken werden in Level-Paketen ausgeliefert. Diese Level-Pakete müssen vom Spieler durch Abschluss des vorherigen Level-Pakets freigeschaltet werden.}
		\begin{itemize}
			\item{Ein Level-Paket besteht aus zwei normalen Strecken und einem Finalrennen.}
			\item{Um an einer finalen Strecke teilnehmen zu können, muss der Spieler eine Startgebühr bezahlen. Verliert der Spieler dieses Rennen, wird die Startgebühr erneut fällig.}
			\item{Mit dem Abschluss der zwei normalen Strecken wird das Finalrennen verfügbar. Mit dem Abschluss des Finalrennen wird das nächste Level-Paket freigeschaltet.}
		\end{itemize}
		\item{Auf den Strecken werden verschiedene Abzweigungen möglich sein, bei welchen der Spieler die Auswahl zwischen zwei Wegen hat.}
		\begin{itemize}
			\item{Die Auswahl des \enquote{richtigen} Wegs wird über Aufgaben realisiert. Dabei wird dem Spieler rechtzeitig eine Aufgabe auf dem Bildschirm gezeigt.}
			\item{Beide möglichen Wege werden mit einer Lösung versehen. Eine dieser Lösungen ist die Lösung der vorher gezeigten Aufgabe. Dieser Weg gilt als der Richtige.}
			\item{Wählt der Spieler den falschen Weg, erhält der Spieler einen Nachteil. Im Fall des Zeitrennens kann dies z.~B.\@ der Verlust von einigen Sekunden sein.}
		\end{itemize}
		\item{Im Multiplayer müssen die Spieler Aufgaben absolvieren, um das Rennen beginnen zu können.}
			\begin{itemize}
				\item{Sobald die Aufgabe gelöst ist, kann ein Spieler losfahren. Somit können sich Spieler über schnelles Absolvieren der Aufgaben einen Vorteil im Rennen erspielen.}
				\item{Können die Aufgaben nicht gelöst werden, darf der Spieler nach einer gewissen Zeit dennoch losfahren. Spieler, welche die Aufgaben gelöst haben, haben im Rennen dadurch einen Vorteil.}
				\item{Falscheingaben resultieren in einer neuen Aufgabe, um \enquote{cheating} zu verhindern.}
			\end{itemize}
		\item{Der Spieler erhält die Möglichkeit, zusätzliche Aufgaben auf freiwilliger Basis zu lösen. Als Belohnung wird eine Ingame-Währung eingeführt, welche unter Anderem für folgendes genutzt werden kann:}
		\begin{itemize}
			\item{Für ein Rennen gegen computergesteuerte Bots kann sich der Spieler eine bessere Startposition erkaufen.}
			\item{Für ein Zeitrennen kann sich der Spieler einen Zeitbonus erkaufen.}
			\item{Der Spieler kann die Teilnahmegebühr für die Finalrunden sowohl über die Ingame-Währung als auch über das absolvieren von Aufgaben bezahlen.}
			\item{Der Spieler kann weitere Fahrzeuge / spielbare Objekte für die Ingame-Währung kaufen. Alternativ ist über diese Währung auch ein Farbwechsel der bisher gekauften Objekte oder ein Wechsel des Spielersymbols (für den Multiplayer) denkbar.}
		\end{itemize}
	\end{enumerate}

\subsection{Functional and non-functional requirements}
	pro contra bezogen auf unsere idee
\subsection{Use Case Diagramm}
	pro contra bezogen auf unsere idee

\subsection{Spielmechanik}
	Im folgenden Kapitel sollen die Grundlagen des Spiels erarbeitet und abgewogen werden, sodass ein breites Spektrum an Regeln und Eigenschaften des Spiel erarbeitet werden kann. Diese Sammlung von Eigenschaften und Regeln kann im späteren Verlauf der Arbeit als Kriterienkatalog zur Auswahl einer Game-Engine verwendet werden. Dabei sollen zunächst für jede Kategorie verschiedene Möglichkeiten erklärt werden, um im Anschluss die für die Spielidee beste Möglichkeit auszuwählen.

	\subsubsection{Regeln für den Spielfortschritt}
	Zum Durchspielen des Spiels muss der Spieler eine Reihe von Level-Paketen abschließen. Die genaue Anzahl an zu spielenden Paketen ist variabel und kann jederzeit um ein zusätzliches Paket erweitert oder gekürzt werden. Die zu treffende Entscheidung an dieser Stelle ist, ob der Spieler die einzelnen Level-Pakete bereits von Beginn an auswählen kann oder sich diese im Laufe des Spiels freispielen muss. Ein freispielen der einzelnen Level-Pakete gibt die Möglichkeit, einen Schwierigkeitsgrad einzuführen. Somit können zum Beispiel zuerst alle Pakete mit Schwierigkeitsgrad \enquote{Einfach} verfügbar sein. Mit erfolgreichem Abschluss aller einfachen Pakete würden dann die Paktete mit Schwierigkeit \enquote{Mittel} freigeschaltet.
	Die vollständige Verfügbarkeit aller Level-Pakete von Beginn an, hat für den Spieler den Vorteil der freien Wahl. Allerdings ist eine Umsetzung von unterschiedlichen Schwierigkeitsgraden unter Umständen nicht möglich. Durch sofortige vollständige Verfügbarkeit bleibt eine Lernkurve aus und der Spieler kann schnell die Motivation am Spiel verlieren.
	Aus den genannten Punkten ergibt sich die Entscheidung für das Freispielen. Somit ist eine Lernkurve gewährleistet. Für das Abschließen des Spiels (durch die Absolvierung des Final-Levels?) muss der Spieler alle vorangegangenen Level erfolgreich gespielt haben. Dies gewährleistet dem Spieler einen \enquote{roten Faden durch das Spiel} und ermöglicht einen linearen Spielfortschritt.

	\subsubsection{Regeln innerhalb der Level-Pakete}
	Ein Level-Paket besteht aus insgesamt drei Rennen. Diese sind aufgeteilt in ein Finalrennen und zwei Qualifikationsrennen. Für den Fortschritt innerhalb eines Level-Pakets wäre es möglich, entweder eines der Qualifikationsrennen abzuschließen um das Finalrennen freizuschalten oder beide Qualifikationsrennen in entweder festgelegter oder beliebiger Reihenfolge abzuschließen um das Finalrennen verfügbar zu machen.
	Für den Umfang des Spiels wurde eine Größe von drei Rennen pro Level-Paket festgelegt. Der Abschluss eines einzelnen Qualifikaionsrennens für die Freischaltung des Finalrennens ist zwar grundsätzlich möglich, führt jedoch zu einer Minderung des Spielumfangs. Um dies zu vermeiden besteht zumindest die Anforderung, beide Qualifikationsrennen abschließen zu müssen. Die Reihenfolge der Qualifikationsrennen spielt im Bereich der Entwicklung keine Rolle. Dieser Aspekt ist insofern zu vernachlässigen. Für den Spieler kann eine sofortige Verfügbarkeit beider Qualifikationsrennen ein gewisses \enquote{Freiheistgefühl} auslösen. Aus diesem Grund werden mit Beginn eines Level-Pakets beide Qualifikationsrennen sofort verfügbar.

	\subsubsection{Gewinnbedingungen eines Rennens}
	Zur Durchführung der Einzelspieler Rennen stehen grundsätzlich zwei Möglichkeiten zur Auswahl. Die erste Möglichkeit ist, dass der Spieler gegen computergesteuerte Rennteilnehmer (im Folgenden Bots genannt) antritt. Zur Realisierung dieser Alternative ist die Entwicklung einer sogenannten KI <TODO: Erklärung?> nötig. Weiterhin werden dadurch Punkte, wie beispielsweise die Kollision mit anderen Rennteilnehmern notwendig. Um ein Rennen zu gewinnen, muss der Spieler als erster die Ziellinie überqueren.
	Die zweite Möglichkeit wäre die Realisierung der Rennen über eine vorgegebene Zeit. Das so entstehende Zeitrennen muss in der vorgegeben Zeit absolviert werden. Überschüssige Zeit verfällt und kann für folgende Rennen nicht verwendet werden.
	Unter Beachtung der erwähnten Punkte und mit Blick auf den gesetzten Zeitrahmen wird von der Entwicklung einer KI abgesehen. Somit bleibt als für die Realisierung des Rennens das Zeitrennen übrig.

	\subsubsection{Zusatzaufgaben während eines Rennens}
	Der Spieler soll während eines Rennens Zusatzaufgaben erhalten. Eine Möglichkeit für die Umsetzung dieser Zusatzaufgaben konnte während des Brainstormings erarbeitet werden. Diese hat sich im Laufe der Zeit weiterentwickelt und wurde verveinert. Auf eine ausführliche Erläuterung des exakten Werdegangs wird an dieser Stelle verzichtet.
	Bei der erarbeiteten Umsetzung bekommt der Spieler während des Rennens eine Aufgabe auf einer freien Stelle des Bildschirms angezeigt. Nach einer vorgegebenen Zeit X (diese variiert anhand der Schwierigkeit der Aufgabe oder dem Verlauf der Strecke) verschwindet diese Aufgabe und die Rennstrecke führt zu einer Weggabelung. Beide Wege sind mit Schildern versehen, auf denen jeweils mögliche Lösungen der Aufgabe angezeigt werden. Auf einem der Schilder steht somit die korrekte Lösung, auf dem anderen Schild stehen falsche Lösungen. Der Spieler muss nun sein Auto auf den richtigen Weg lenken.
	Eine weitere Möglichkeit wäre es, das Rennen an einem bestimmten Punkt zu pausieren und eine Aufgabe anzuzeigen. Die gemessene Zeit des Zeitrennens läuft dabei weiter. Erst mit Eingabe der korrekten Lösung wird das Rennen fortgesetzt und der Spieler darf weiterfahren. Dies würde jedoch den Spielfluss maßgeblich unterbrechen und somit zu einem Verlust an Spielspaß führen. Somit fällt die Wahl für die Zusatzaufgaben auf die Weggabelungen im Rennen.

	\subsubsection{Belohnungen / Strafen bei Zusatzaufgaben}








	\subsubsection{Steuerung}
	\subsubsection{Bots}

\subsection{Entwicklung Play-Persona}
	Nach Kapitel \ref{ssec:persona} modeliert gibt es für das Spiel zwei Spielmechaniken:
	\begin{description}
		\item[Rennen Fahren]{ Sagt aus ob der Spieler gut im rennen fahren ist. Kann über rundenzeiten gemessen werden. }
		\item[Aufgaben Lösen]{ Sagt aus ob der Spieler wenig oder viele Aufgaben korrekt löste. }
	\end{description}
	Daraus ergeben sich folgende 4 Personas:

	\begin{tabl}{lll}{Play-Persona Matrix}
		\toprule
			Name/Eigenschaft & Rennen Fahren & Aufgaben Lösen \\
		\midrule
			Anfänger & - & - \\
			Rennfahrer & + & - \\
			Lehrer & - & + \\
			Experte & + & + \\
		\bottomrule
	\end{tabl}
	<TODO:personas ausarbeiten>
\subsection{Lernziele umsetzung}
	\enquote{pay to win} wird zu \enquote{learn to win}
\subsection{Game-Engine Evaluation}\label{ssec:engineeval}
	Auflistung und beschreibung der kriterien?

	\begin{tabl}{lll}{Game-Engine Evaluation}
		\toprule
			Kriterium/Engine & Unreal & Unity \\
		\midrule
			Android & + & + \\
			Datenschutz & ? & ? \\
			Lizenz & ? & ? \\
			Networking\footnotemark & ? & ? \\
		\bottomrule
	\end{tabl}
	\footnotetext{Die Game-Engine bietet passende funktionalitäten um den geplanten Mehrspielermodus zu entwicklen.}
